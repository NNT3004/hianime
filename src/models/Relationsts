import { Schema, model, Model, Types } from 'mongoose';
import validator from 'validator';

interface IRelation {
  id: Types.ObjectId;
  postIds: Types.Array<Types.ObjectId>;
}

interface IRelationMethods {}

type RelationModel = Model<IRelation, {}, IRelationMethods>;

const schema = new Schema<IRelation, RelationModel, IRelationMethods>({
  id: {
    type: Schema.Types.ObjectId,
    required: [true, 'what is going on'],
  },
  postIds: [
    {
      type: Schema.Types.ObjectId,
      ref: 'Post',
      required: [true, 'what is going on'],
    },
  ],
});

const Relation = model<IRelation, RelationModel>('Relation', schema);

export default Relation;
export { IRelation };
